---
title: ""
pagetitle: "Fiesta - Home"
subtitle: ""
page-layout: custom
format:
  html:
    css: styles.css
---

```{r}
#| echo: false
#| warning: false
#| message: false

library(plotly)

# load the data
load("elevation_profile.Rda")

# smooth elevation
# loess_model <- loess(elevation ~ cumulative_norm_distance, data = combined_elevation, span = 0.005)
# combined_elevation$smoothed_elevation <- predict(loess_model, combined_elevation$cumulative_norm_distance)

distance_smooth <- seq(min(combined_elevation$cumulative_norm_distance), max(combined_elevation$cumulative_norm_distance), length.out = 900)
elevation_smooth <- spline(combined_elevation$cumulative_norm_distance, combined_elevation$elevation, xout = distance_smooth)$y

# Create the elevation profile with Plotly
fig <- plot_ly(#data= combined_elevation,
  x = ~distance_smooth,
  y = ~elevation_smooth,
  type = 'scatter',
  mode = 'lines',
  fill = 'tozeroy',
  fillcolor = '#FFD2B3',  # Using your theme color with transparency
  line = list(color = '#FF6A00', width = 3),
  hovertemplate = paste(
    '<b>%{y:.0f} m</b>',
    '<extra></extra>'
  ),
  name = ''
) %>%
  layout(
    paper_bgcolor = 'rgba(0,0,0,0)',
    plot_bgcolor = 'rgba(0,0,0,0)',
    xaxis = list(
      title = '',
      showgrid = FALSE,
      showticklabels = FALSE,
      zeroline = FALSE,
      showline = FALSE,
      fixedrange = TRUE
    ),
    yaxis = list(
      title = '',
      range = c(-2, max(elevation_smooth) * 1.1),  # Force y-axis to start at 0
      showgrid = FALSE,
      showticklabels = FALSE,
      zeroline = FALSE,
      showline = FALSE,
      fixedrange = TRUE
    ),
    margin = list(l = 0, r = 0, t = 0, b = 0, pad = 0),
    hovermode = 'x unified',
    hoverlabel = list(
      bgcolor = 'white',
      font = list(size = 14, color = 'black')
    )
  ) %>%
  config(displayModeBar = FALSE)

# Render the plot
fig
```

::: {.hero-content}
::: {.hero-text}
We are looking forward to pop the bubbles, hit the dance floor and have a wonderful time with the best
people.
We would love for you to come celebrate with us as we toast to love, friendship and most importantly, to you!
:::

::: {.hero-names}
with love J <img src="heart_orange.png" class="inline-heart"> S
:::
:::